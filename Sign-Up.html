<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign-Up</title>
    <style>
        body{
            font-family: cursive;
            display:flex;
            justify-content: center;
            align-items:center;
            height:100vh;
            margin:0;
            background-image: url("https://i.pinimg.com/736x/5e/6b/1c/5e6b1c6a633aeeaa013312b69c89ab11.jpg");
            background-repeat: no-repeat;
            background-position: center;
            background-size: cover;
        }
        #EmailId
        {
           width:200px;
           height:40px;
        }
        p
        {
          font-size:30px;
          font-family: cursive;
          font-weight:bolder;
          text-align: center;
        }
       #EmailId
       {
        width:250px;
        height:30px;
        text-align: center;
        font-style: italic;
        font-family: cursive;
        font-size: large;
        font-weight: 300;
       }
       #password
       {
        width:150px;
        height:30px;
        text-align:center;
        font-style: italic;
        font-family: cursive;
        font-size: large;
        font-weight: 300;
        padding-right: 10px;
       }
        button{
            margin: top 20px;
            padding: 10px 20px;
            font-size:16px;
            cursor:pointer;
            background-color:lightslategrey ;
            border-radius:5px;
            align-items:center ;
        }
    </style>
</head>
<body>
    <div class="signup-page">
        <p>SIGN-IN</p>
        <br><br>
        <form id="myForm">
            <label for="email">
                <h3>Enter your EmailId:</h3>
                <input type="email" id="EmailId" name="EmailId" required />
            </label><br>
            <label for="password">
                <h3>Password:</h3>
                <input type="password" id="password" name="password" required />
            </label><br><br><br>
            <button type="submit">SUBMIT</button>
        </form>
    </div>

    <script>
        function signup(event) {
    event.preventDefault(); // Prevent the default form submission

    const email = document.getElementById('EmailId').value;
    const password = document.getElementById('password').value;
    const url = 'http://139.59.37.38/medicine_inspector/signup.php';

    console.log('Email:', email);
    console.log('Password:', password);

    // Use fetch API
    fetch(url, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: `email=${encodeURIComponent(email)}&password=${encodeURIComponent(password)}`,
    })
        .then(response => {
            if (response.ok) {
                return response.text();
            } else {
                throw new Error(`Signup failed: ${response.statusText}`);
            }
        })
        .then(result => {
            console.log('Signup successful:', result);
            alert('Signup successful!');
            window.location.href = 'index.html';
        })
        .catch(error => {
            console.error('Error during signup:', error);
            alert('Signup failed. Please try again.');
        });
}

document.addEventListener('DOMContentLoaded', () => {
    document.getElementById('myForm').addEventListener('submit', signup);
});
    </script>

    <!-- <script>
        document.getElementById('myForm').addEventListener('submit', function(event) {
            event.preventDefault();
        
            const name = document.getElementById('name').value;
            console.log('Name:', name);
    
            fetch('/submit', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ name: name })
            })
            .then(response => response.text()) 
            .then(data => console.log(data))
            .catch(error => console.error('Error:', error)); 
        });
    </script> -->
    

    <script src="/scripts/script.js"></script>
</body>
</html>